<!-- fetch data from server side language or API without page refresh using AJAX Technique 

-- No Page Reload
-- access data from server & update the web page (selected areas)
-- send & receive data ( server side lang )
-- will operate in background(i.e. javascript)

Ajax technique ( not technology )
--

-->

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


<button>Get Data From API</button>
<div class="container">
    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nihil exercitationem itaque quas reiciendis aut! Cumque, enim repudiandae repellat aspernatur fugiat mollitia quia amet error soluta ipsa. Voluptatem quam alias et.
</div>

<!-- https://fakestoreapi.com/products -->

<script>
    //Ajax ( Javascript Based Code )

    // console.log(XMLHttpRequest)
    var xmlhttp = new XMLHttpRequest();
    console.log(typeof xmlhttp);
    console.log(xmlhttp);
    //readyState - 0 1 2 3 4 
    //status - 404,200
    //onreadystatechange
    //responseText
    //open()
    //send()

    document.querySelector("button").onclick = function(){
        // alert("test")
        console.log(xmlhttp.readyState);
        //0 - no request generated from user

        //check readystate cycle from0 to 4
        xmlhttp.onreadystatechange = function(){
            console.log(xmlhttp.readyState);
            //status =200 ( path or url is exist)

            //3 - request it is in process

            //4 - request cycle completed

            if(xmlhttp.readyState==4 && xmlhttp.status==200){
                console.log("FromAPI");
                // console.log(typeof xmlhttp.responseText);
                // console.log(xmlhttp.responseText);

                var rec = JSON.parse(xmlhttp.responseText);
                console.log(rec);

                var str = ``
                rec.forEach(function(val,i){
                    // console.log(val.title)
                    str += `
                        <li>${val.title}</li>
                    `
                })
                document.querySelector(".container").innerHTML=str;
            }

        }


        xmlhttp.open("get" ,"https://iitdac.met.edu/MyWebApp/api/get");
        //1 - request has been setup

        xmlhttp.send()
        //2 - request has been sent

    }

    // function myfunc(){}
</script>
<!-- 
<form action="login-action.php" method="get">
    <input type="text" name="email" placeholder="Emailid" /> <br>
    <input type="text" name="pass" placeholder="password"> <br>
    <input type="submit">
</form> -->

<!-- login-action.php?email=aaa&pass=111 -->
<!-- 
<a href="login-action.php">Click</a> -->

<!-- 

    page 1-

    server side
    ----------
    $no=1
    select * from products where conditions limit 0,40

    $no=2
    select * from products where conditions limit 40,40

    $no=2
    select * from products where conditions limit 80,40
    81st to 120
    y=40
    x,y

    x = pageno*perpage - perpage
    x = 1*40 - 40 = 0
    x = 2*40 - 40 = 40

    https://www.flipkart.com/clothing-and-accessories/topwear/pr?sid=clo%2Cash&p%5B%5D=facets.ideal_for%255B%255D%3DMen&p%5B%5D=facets.ideal_for%255B%255D%3Dmen&otracker=categorytree&fm=neo%2Fmerchandising&iid=M_ac1b30dc-73db-4198-938c-41604c9d8c57_1_372UD5BXDFYS_MC.6XNZG1FYFBZT&otracker=hp_rich_navigation_1_1.navigationCard.RICH_NAVIGATION_Fashion%7EMen%2527s%2BTop%2BWear_6XNZG1FYFBZT&otracker1=hp_rich_navigation_PINNED_neo%2Fmerchandising_NA_NAV_EXPANDABLE_navigationCard_cc_1_L1_view-all&cid=6XNZG1FYFBZT&page=5
 -->